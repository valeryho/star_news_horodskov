function Init(){var e;AddcountrY(e=[{abr:"ca",name:"Canada",capitol:"Ottawa"},{abr:"ua",name:"Ukraine",capitol:"Kiev"}]);var t=document.querySelector(".select_coutry").value;console.log(t);var n;n=[{name:"sport",fillfunction:SportNews},{name:"entertainment",fillfunction:EnterteimentNews},{name:"health",fillfunction:HelthNews},{name:"technology",fillfunction:TechnologyNews},{name:"science",fillfunction:ScienceNews}];for(var a=0;a<n.length;a++)Request(n[a],"9a74d04fa22a42b6bfe20a4df5895f97",t);for(a=0;a<e.length;a++)t==e[a].abr&&WeatherRequest(e[a])}function AddcountrY(e){for(var t=document.querySelector(".select_coutry"),n=0;n<e.length;n++){var a=document.createElement("option");a.setAttribute("value",e[n].abr),a.innerHTML=e[n].name,t.appendChild(a)}}function WeatherRequest(e){var r=new XMLHttpRequest,t="https://api.openweathermap.org/data/2.5/forecast?q="+e.capitol+","+e.abr+"&APPID=f60d5e7186d120f5264af6546fd57187";console.log(t),r.open("GET",t,!0),r.send(),r.onreadystatechange=function(){if(4==r.readyState)if(200!=r.status){var e=r.status,t=r.statusText;console.log(e,"+",t)}else{var n=JSON.parse(r.responseText);console.log("weather",n),RemoveAllElementFromDOM(document.querySelector(".weather"));for(var a=0;a<40;a+=8)Show_day_wether(n,a)}}}function Show_day_wether(e,t){var n=document.querySelector(".weather"),a=document.createElement("div"),r=document.createElement("div"),l=document.createElement("img"),i=document.createElement("div"),s=document.createElement("div"),c=document.createElement("div");document.createElement("div");a.className="weather_elements",r.className="date",l.className="w_pict",i.className="  t_diap",s.className="upper_t",c.className="lower_t",n.appendChild(a),a.appendChild(r),a.appendChild(l),a.appendChild(i),i.appendChild(s),i.appendChild(c),r.innerHTML=e.list[t].dt_txt,l.innerHTML=e.list[t].weather[0].icon,l.setAttribute("src","https://openweathermap.org/img/w/"+e.list[t].weather[0].icon+".png"),s.innerHTML=Math.round(e.list[t].main.temp_max-273)+" C",c.innerHTML=Math.round(e.list[t].main.temp_min-273)+" C"}function Request(a,e,t){var r=new XMLHttpRequest,n="https://newsapi.org/v2/top-headlines?country="+t+"&category="+a.name+"&apiKey="+e;r.open("GET",n,!0),r.send(),r.onreadystatechange=function(){if(4==r.readyState)if(200!=r.status){var e=r.status,t=r.statusText;console.log(e,"+",t)}else{var n=JSON.parse(r.responseText);a.fillfunction(n)}}}function SportNews(e){var t=document.querySelector("#sport");RemoveAllElementFromDOM(t);for(var n=0;n<5;n++){var a=document.createElement("h3"),r=document.createElement("img"),l=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");a.className="newsTitle",r.className="img_show",i.className="news_source",l.className="news_description",s.className="news_date",a.innerHTML=e.articles[n].title,r.setAttribute("src",e.articles[n].urlToImage),r.setAttribute("alt",e.articles[n].title),l.innerHTML=e.articles[n].description,i.innerHTML=e.articles[n].author,s.innerHTML=e.articles[n].publishedAt,t.appendChild(a),t.appendChild(r),t.appendChild(l),t.appendChild(i),t.appendChild(s)}}function EnterteimentNews(e){var t=document.querySelector("#entertainment");RemoveAllElementFromDOM(t);for(var n=0;n<5;n++){var a=document.createElement("h3"),r=document.createElement("img"),l=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");a.className="newsTitle",r.className="img_show",i.className="news_source",l.className="news_description",s.className="news_date",a.innerHTML=e.articles[n].title,r.setAttribute("src",e.articles[n].urlToImage),r.setAttribute("alt",e.articles[n].title),l.innerHTML=e.articles[n].description,i.innerHTML=e.articles[n].author,s.innerHTML=e.articles[n].publishedAt,t.appendChild(a),t.appendChild(r),t.appendChild(l),t.appendChild(i),t.appendChild(s)}}function HelthNews(e){var t=document.querySelector("#helth");RemoveAllElementFromDOM(t);for(var n=0;n<5;n++){var a=document.createElement("h3"),r=document.createElement("img"),l=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");a.className="newsTitle",r.className="img_show",i.className="news_source",l.className="news_description",s.className="news_date",a.innerHTML=e.articles[n].title,r.setAttribute("src",e.articles[n].urlToImage),r.setAttribute("alt",e.articles[n].title),l.innerHTML=e.articles[n].description,i.innerHTML=e.articles[n].author,s.innerHTML=e.articles[n].publishedAt,t.appendChild(a),t.appendChild(r),t.appendChild(l),t.appendChild(i),t.appendChild(s)}}function TechnologyNews(e){var t=document.querySelector("#tehnology");RemoveAllElementFromDOM(t);for(var n=0;n<5;n++){var a=document.createElement("h3"),r=document.createElement("img"),l=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");a.className="newsTitle",r.className="img_show",i.className="news_source",l.className="news_description",s.className="news_date",a.innerHTML=e.articles[n].title,r.setAttribute("src",e.articles[n].urlToImage),r.setAttribute("alt",e.articles[n].title),l.innerHTML=e.articles[n].description,i.innerHTML=e.articles[n].author,s.innerHTML=e.articles[n].publishedAt,t.appendChild(a),t.appendChild(r),t.appendChild(l),t.appendChild(i),t.appendChild(s)}}function ScienceNews(e){var t=document.querySelector("#science");RemoveAllElementFromDOM(t);for(var n=0;n<5;n++){var a=document.createElement("h3"),r=document.createElement("img"),l=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");a.className="newsTitle",r.className="img_show",i.className="news_source",l.className="news_description",s.className="news_date",a.innerHTML=e.articles[n].title,r.setAttribute("src",e.articles[n].urlToImage),r.setAttribute("alt",e.articles[n].title),l.innerHTML=e.articles[n].description,i.innerHTML=e.articles[n].author,s.innerHTML=e.articles[n].publishedAt,t.appendChild(a),t.appendChild(r),t.appendChild(l),t.appendChild(i),t.appendChild(s)}}function RemoveAllElementFromDOM(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}window.addEventListener("load",Init);
//# sourceMappingURL=main.js.map
